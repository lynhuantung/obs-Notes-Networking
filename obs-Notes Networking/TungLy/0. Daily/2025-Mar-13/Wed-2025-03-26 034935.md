---
MÃ£: "25031326-01"
aliases: 
date: "2025-03-26"
time: "15:49"
Week: "13"
tags:
  - daily
---


## ğŸ“Œ Má»¤C TIÃŠU CUá»˜C Há»ŒP

- Thá»‘ng nháº¥t quy trÃ¬nh tÃ­ch há»£p SSO giá»¯a há»‡ thá»‘ng HRM vÃ  á»©ng dá»¥ng bÃªn thá»© ba.
- LÃ m rÃµ vai trÃ² giá»¯a phÃ­a VnResource vÃ  bÃªn tÃ­ch há»£p.
- XÃ¡c Ä‘á»‹nh cÃ¡c bÆ°á»›c ká»¹ thuáº­t cáº§n triá»ƒn khai vÃ  thÃ´ng tin cáº§n trao Ä‘á»•i.

---

## 1. ğŸ“‹ ÄÄ‚NG KÃ á»¨NG Dá»¤NG

- **PhÃ­a tÃ­ch há»£p cáº§n liÃªn há»‡ VnResource** Ä‘á»ƒ Ä‘Æ°á»£c cáº¥p:
    - `ClientId`, `ClientSecret`, `RedirectUri`, `Scopes`, ...
- VnResource sáº½ cáº¥u hÃ¬nh há»‡ thá»‘ng cho phÃ©p á»©ng dá»¥ng bÃªn thá»© ba thá»±c hiá»‡n xÃ¡c thá»±c SSO.

---

## 2. ğŸ” THÃ”NG TIN XÃC THá»°C (OIDC)

CÃ¡c thÃ´ng tin báº¯t buá»™c Ä‘á»ƒ tÃ­ch há»£p:

|ThÃ´ng tin|Báº¯t buá»™c|Ghi chÃº|
|---|---|---|
|Issuer|âœ…|URL Identity cá»§a VNR|
|ClientId|âœ…|Cung cáº¥p bá»Ÿi VNR|
|ClientSecret|âœ…|Báº£o máº­t ká»¹ lÆ°á»¡ng|
|Scopes|âœ…|XÃ¡c Ä‘á»‹nh quyá»n truy cáº­p|
|GrantType|âœ…|ThÆ°á»ng lÃ  `authorization_code`|
|RedirectUri|âœ…|URL callback sau khi xÃ¡c thá»±c|
|PKCE|âœ…|TÄƒng tÃ­nh báº£o máº­t|

VÃ­ dá»¥ URL xÃ¡c thá»±c:

```
https://{issuer}/authorize?response_type=code&code_challenge={...}&...&redirect_uri={...}
```

---

## 3. ğŸ” QUY TRÃŒNH XÃC THá»°C SSO

### 3.1 PhÃ­a HRM (VnResource)

1. **Táº¡o á»©ng dá»¥ng:** Cáº¥u hÃ¬nh cÃ¡c thÃ´ng tin cho bÃªn tÃ­ch há»£p.
2. **XÃ¡c thá»±c ngÆ°á»i dÃ¹ng:** Kiá»ƒm tra tráº¡ng thÃ¡i Ä‘Äƒng nháº­p vÃ  chuyá»ƒn hÆ°á»›ng náº¿u cáº§n.
3. **Ghi log xÃ¡c thá»±c:** LÆ°u log trong vÃ²ng 30 ngÃ y.

### 3.2 PhÃ­a tÃ­ch há»£p (bÃªn thá»© ba)

|BÆ°á»›c|MÃ´ táº£|
|---|---|
|1|Sá»­ dá»¥ng thÃ´ng tin do VnR cáº¥p Ä‘á»ƒ khá»Ÿi táº¡o xÃ¡c thá»±c|
|2|Tá»± sinh `code_challenge`, `code_verifier`, `state`|
|3|Táº¡o nÃºt "Login with VnResource"|
|4|Nháº­n mÃ£ xÃ¡c thá»±c vÃ  Ä‘á»•i láº¥y access token|
|5|(TÃ¹y chá»n) Auto login báº±ng redirect máº·c Ä‘á»‹nh|
|6|(TÃ¹y chá»n) DÃ¹ng refresh token Ä‘á»ƒ láº¥y access token má»›i|

---

## 4. ğŸŒ CÃC ENDPOINT QUAN TRá»ŒNG

|Endpoint|Chá»©c nÄƒng|
|---|---|
|`/connect/authorize`|Khá»Ÿi táº¡o xÃ¡c thá»±c|
|`/connect/token`|Láº¥y access token|
|`/connect/userinfo`|Láº¥y thÃ´ng tin ngÆ°á»i dÃ¹ng|
|`/connect/endsession`|Káº¿t thÃºc phiÃªn lÃ m viá»‡c|
|`/connect/introspect`|Kiá»ƒm tra token|
|`/connect/deviceauthorization`|XÃ¡c thá»±c thiáº¿t bá»‹|

---


## âœ… Káº¾T LUáº¬N & HÃ€NH Äá»˜NG TIáº¾P THEO

- âœ… PhÃ­a tÃ­ch há»£p cáº§n gá»­i yÃªu cáº§u láº¥y thÃ´ng tin ClientId, Secret.
- âœ… VnR há»— trá»£ khá»Ÿi táº¡o vÃ  cung cáº¥p hÆ°á»›ng dáº«n endpoint.
- âœ… Hai bÃªn test thá»­ vá»›i `Authorization Code Flow with PKCE`.
